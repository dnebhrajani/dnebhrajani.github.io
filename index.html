<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc-markdown-css-theme" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Durga Nebhrajani" />
  <title>Durga’s Art Page</title>
  <link rel="stylesheet" href="theme.css" />
  <link rel="stylesheet" href="skylighting-solarized-theme.css" />
  <script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
</head>
<body>

<header>
<h1 class="title">Durga’s Art Page</h1>
<blockquote class="metadata">
<p class="subtitle">temporary subtitle</p>
<p class="author">
      <a href="dnebhrajani.github.io">Durga Nebhrajani</a>
  </p>
</blockquote>
</header>

<nav id="TOC" role="doc-toc">
    <strong>Contents</strong><label for="contents">⊕</label>
  <input type="checkbox" id="contents">
  <ul>
  <li><a href="#features" id="toc-features">Features</a></li>
  <li><a href="#usage" id="toc-usage">Usage</a>
  <ul>
  <li><a href="#usage-with-jekyll" id="toc-usage-with-jekyll">Usage with Jekyll</a></li>
  </ul></li>
  <li><a href="#credits" id="toc-credits">Credits</a></li>
  <li><a href="#see-also" id="toc-see-also">See also</a></li>
  </ul>
</nav>

<main>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;unordered_map&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="bu">std::</span>string<span class="op"> </span>mapping<span class="op">(</span><span class="bu">std::</span>string<span class="op"> </span>enc<span class="op">,</span> <span class="bu">std::</span>string<span class="op"> </span>dec<span class="op">,</span> <span class="bu">std::</span>string<span class="op"> </span>msg<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>unordered_map<span class="op">&lt;</span><span class="dt">char</span><span class="op">,</span> <span class="dt">char</span><span class="op">&gt;</span> map<span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">94</span><span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    map<span class="op">[</span>enc<span class="op">[</span>i<span class="op">]]</span> <span class="op">=</span> dec<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> msg<span class="op">.</span>length<span class="op">();</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    m sg<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> map<span class="op">[</span>msg<span class="op">[</span>i<span class="op">]];</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> msg<span class="op">;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="bu">std::</span>string<span class="op"> </span>rev_mapping<span class="op">(</span><span class="bu">std::</span>string<span class="op"> </span>enc<span class="op">,</span> <span class="bu">std::</span>string<span class="op"> </span>dec<span class="op">,</span> <span class="bu">std::</span>string<span class="op"> </span>enc_msg<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>unordered_map<span class="op">&lt;</span><span class="dt">char</span><span class="op">,</span> <span class="dt">char</span><span class="op">&gt;</span> map<span class="op">;</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">94</span><span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    map<span class="op">[</span>dec<span class="op">[</span>i<span class="op">]]</span> <span class="op">=</span> enc<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> enc_msg<span class="op">.</span>length<span class="op">();</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    enc_msg<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> map<span class="op">[</span>enc_msg<span class="op">[</span>i<span class="op">]];</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> enc_msg<span class="op">;</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>string<span class="op"> </span>enc<span class="op">;</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>string<span class="op"> </span>dec<span class="op">;</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="dt">char</span> a<span class="op">;</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> a <span class="op">=</span> <span class="dv">33</span><span class="op">;</span> a <span class="op">&lt;</span> <span class="dv">128</span><span class="op">;</span> <span class="op">++</span>a<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    enc<span class="op">.</span>push_back<span class="op">(</span>a<span class="op">);</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    dec<span class="op">.</span>push_back<span class="op">(</span>a<span class="op">);</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>random_shuffle<span class="op">(</span>dec<span class="op">.</span>begin<span class="op">(),</span> dec<span class="op">.</span>end<span class="op">());</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>string<span class="op"> </span>msg<span class="op">;</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cin<span class="op"> &gt;&gt;</span> msg<span class="op">;</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> mapping<span class="op">(</span>enc<span class="op">,</span> dec<span class="op">,</span> msg<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>string<span class="op"> </span>enc_msg <span class="op">=</span> mapping<span class="op">(</span>enc<span class="op">,</span> dec<span class="op">,</span> msg<span class="op">);</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> rev_mapping<span class="op">(</span>enc<span class="op">,</span> dec<span class="op">,</span> enc_msg<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>This project provides CSS files and a template for using Pandoc<span class="sidenote-wrapper"><label for="sn-0" class="margin-toggle">&#8853;</label><input type="checkbox" id="sn-0" class="margin-toggle"/><span class="marginnote"><a href="https://pandoc.org/">Pandoc</a> is a “universal document converter.” It is particularly good at generating HTML and <span class="math inline">\LaTeX</span> from Markdown.<br />
<br />
</span></span> to generate standalone HTML files. It supports most features Pandoc Markdown has to offer, and some extras. The default look can be tweaked via CSS variables, and it does not need JavaScript, even for side notes.</p>
<h1 id="features">Features</h1>
<p>A short list of headline features:</p>
<ul>
<li><a href="features/#code-blocks">Code blocks</a>, including:
<ul>
<li>Syntax themes</li>
<li>Line numbers and line highlights</li>
<li>Extra wide and full-width options</li>
<li>Captions</li>
</ul></li>
<li><a href="features/#images-tables-and-captioned-code-blocks">Images and tables</a>, including:
<ul>
<li>Extra wide and full-width options</li>
<li>Captions</li>
</ul></li>
<li><a href="features/#side-notes-and-margin-notes">Side notes and margin notes</a></li>
<li><a href="features/#table-of-contents">Floating table of contents</a></li>
<li><a href="features/#math"><span class="math inline">\LaTeX</span> math</a>, rendered via <a href="https://katex.org/"><span class="math inline">\KaTeX</span></a> in the browser</li>
<li>Dark mode, based on the user’s default color scheme preference</li>
</ul>
<p>For the complete feature set, see the documentation. You might also want to view the “kitchen sink” page that is useful when developing, or the source code:</p>
<p><a href="features/">→ Documentation</a><br />
<a href="kitchen-sink/">→ Kitchen Sink</a><br />
<a href="https://github.com/jez/pandoc-markdown-css-theme">→ Source on GitHub</a></p>
<p>The theme is fully responsive, including phones, tablets, laptops, and wide desktop screens. Side notes and the table of contents display inline on small screen sizes, and in the margins on wide enough screens. Extra wide images, tables, and code blocks shrink when space isn’t available. CSS <code>@media print</code> styles declare first-class print styles.</p>
<div class="wide extra-wide">
<figure>
<img src="cat.jpg" alt="Only right margin at tablet width, and no margins on mobile" />
<figcaption aria-hidden="true">Only right margin at tablet width, and no margins on mobile</figcaption>
</figure>
</div>
<p>The source code is extremely tweakable.<span class="sidenote-wrapper"><label for="sn-1" class="margin-toggle">&#8853;</label><input type="checkbox" id="sn-1" class="margin-toggle"/><span class="marginnote">When changing things like the font family or font size, the thing that matters is to pay special attention to alignment. Different fonts have different x-heights and widths. Most layouting can be agnostic of these things, but there are explicit variables for places where it matters.<br />
<br />
</span></span> A small set of CSS variables control a large number of font and color settings: you don’t have to hunt down all the places that need to be changed to tweak the design. As a proof of concept, see <a href="paper/">this page</a>, which tweaks the default theme slightly. These same CSS variables power the light- and dark-mode versions of the theme. Of course, the code is open source and you’re welcome to copy the theme files and completely overhaul them if desired.</p>
<p>And finally, there’s basically only HTML and CSS. The theme doesn’t use custom fonts by default, and only uses JavaScript for two things:</p>
<ul>
<li>Rendering math (via <a href="https://katex.org/"><span class="math inline">\KaTeX</span></a>), only if used.</li>
<li>Slightly tweaking the appearance of checklist items. (Pandoc emits them as disabled, but they look better when enabled in my opinion.) This is entirely presentational.</li>
</ul>
<p>Placement of side notes, the table of contents, and code block line highlights are all controlled with CSS. See the <a href="#credits">credits</a> below for more background on the techniques used.</p>
<h1 id="usage">Usage</h1>
<p>This project merely provides a CSS files and a standalone HTML template to give to Pandoc. The imporant files that you might want to copy out to start your own project:</p>
<ul>
<li><a href="https://github.com/jez/pandoc-markdown-css-theme/blob/master/public/css/theme.css"><code>public/css/theme.css</code></a>, the core CSS implementing theme</li>
<li><a href="https://github.com/jez/pandoc-markdown-css-theme/blob/master/template.html5"><code>template.html5</code></a>, the Pandoc template that renders Markdown to HTML</li>
<li><a href="https://github.com/jez/pandoc-markdown-css-theme/blob/master/Makefile"><code>Makefile</code></a>, showcasing the Pandoc flags required to get things to build</li>
<li><a href="https://github.com/jez/pandoc-markdown-css-theme/blob/master/src/index.md"><code>src/index.md</code></a>, the source code for this page</li>
</ul>
<p>To see things in action, try rebuilding this site locally. First, you’ll need a few command line programs:</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" /><a href="https://pandoc.org/">Pandoc</a></li>
<li><input type="checkbox" disabled="" /><a href="https://github.com/jez/pandoc-sidenote"><code>pandoc-sidenote</code></a></li>
<li><input type="checkbox" disabled="" /><code>realpath</code> from <a href="https://www.gnu.org/software/coreutils/coreutils.html">GNU coreutils</a></li>
<li><input type="checkbox" disabled="" />(optional) <a href="https://facebook.github.io/watchman/"><code>watchman</code></a>, for rebuilding when files change</li>
</ul>
<p>Follow the installation instructions for your platform. If you’re using macOS, installation is as easy as:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource numberLines"><code class="sourceCode"><span id="cb2-1"><a href="#cb2-1"></a>brew install pandoc coreutils</span>
<span id="cb2-2"><a href="#cb2-2"></a>brew tap jez/formulae</span>
<span id="cb2-3"><a href="#cb2-3"></a>brew install pandoc-sidenote</span></code></pre></div>
<p>Then you can clone this project and run <code>make watch</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource bash numberLines hl-7 hl-10"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">git</span> clone https://github.com/jez/pandoc-markdown-css-theme</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="bu">cd</span> pandoc-markdown-css-theme</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"># Test everything by forcing a clean build</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co"># (the generated comes with the clone)</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="fu">make</span> clean</span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="fu">make</span></span>
<span id="cb3-8"><a href="#cb3-8"></a></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co"># If you installed watchman</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="fu">make</span> watch</span></code></pre></div>
<p>Running <code>make</code> will build everything in the site.</p>
<p>Running <code>make watch</code> will start a webserver at <a href="http://127.0.0.1:8000/" class="uri">http://127.0.0.1:8000/</a>, open that URL in a web browser, and watch files for changes in the background.</p>
<h2 id="usage-with-jekyll">Usage with Jekyll</h2>
<p>While the core theme is just a handful of static files that can be copied into any project, using this theme with <a href="https://jekyllrb.com">Jekyll</a> is as easy as installing a theme:</p>
<p>→ <a href="https://github.com/jez/pandoc-markdown-jekyll-theme">Pandoc Markdown Jekyll Theme</a></p>
<p>Check the project above for installation and usage instructions with Jekyll.</p>
<h1 id="credits">Credits</h1>
<p>First, thanks to <a href="https://pandoc.org/">Pandoc</a>, by John MacFarlane, for being an all-around awesome tool, especially for Markdown.</p>
<p>The core technique for laying out side notes<span class="sidenote-wrapper"><label for="sn-2" class="margin-toggle">&#8853;</label><input type="checkbox" id="sn-2" class="margin-toggle"/><span class="marginnote">Gwern has a great survey post that discusses <a href="https://www.gwern.net/Sidenotes">Sidenotes In Web Design</a>, covering the techniques in Tufte CSS as well as the limitations, and many alternatives.<br />
<br />
</span></span> I learned from <a href="https://edwardtufte.github.io/tufte-css/">Tufte CSS</a>, by Dave Liepmann. The technique is <a href="https://edwardtufte.github.io/tufte-css/#sidenotes">described in detail here</a>. Tufte CSS suggests writing the HTML for sidenotes by hand, but I wanted to use Markdown. I wrote <a href="https://github.com/jez/pandoc-sidenote"><code>pandoc-sidenote</code></a>, a <a href="https://pandoc.org/filters.html">Pandoc filter</a> that traverses Pandoc’s internal AST and converts footnote nodes into the HTML side note markup for Tufte CSS-style side notes.</p>
<p>While the idea for side notes comes entirely from Tufte CSS, the implementation at this point is almost completely different. Tufte CSS uses relative widths everywhere, but I wanted a body with a constant width at all but the smallest screen sizes. Tufte CSS renders the main body off center. Rendering centered when possible and off center when not adds complexity in the implementation.</p>
<p>The inspiration for code block line highlights comes from a change I contributed to <a href="https://github.com/owickstrom/pandoc-emphasize-code"><code>pandoc-emphasize-code</code></a>, by Oskar Wickström (another Pandoc filter). I decided against using it for this project because it forces a choice of either line highlights or syntax highlighting per code block (unless you tack on a JavaScript-based syntax highlighter, like Highlight.js). I thought of a <a href="features/#line-highlight-limit">clever technique</a> using CSS clases to avoid this.</p>
<p>Considerable design inspiration comes from <a href="https://www.dropbox.com/paper">Dropbox Paper</a>, a gorgeous and powerful tool. (In fact, the theme is customizable enough to <a href="paper/">recreate the look of Paper</a>. This is provided for educational purposes only, under Fair Use.)</p>
<h1 id="see-also">See also</h1>
<p>If you’d like to use Tufte CSS with Pandoc in your own project, feel free to use my <a href="https://jez.io/tufte-pandoc-css/">Tufte Pandoc CSS</a> project.</p>
<p>If you’d like to use this theme in a Jekyll project, I have already packaged these files as a Jekyll theme: <a href="https://github.com/jez/pandoc-markdown-jekyll-theme"><code>pandoc-markdown-jekyll-theme</code></a>.</p>
<p class="signoff">
<a href="/">↑ Back to the top</a>
</p>
</main>

<script>
;(function() {
  // Non-essential if user has JavaScript off. Just makes checkboxes look nicer.
  var selector = '.task-list > li > input[type="checkbox"]';
  var checkboxes = document.querySelectorAll(selector);
  Array.from(checkboxes).forEach((checkbox) => {
    var wasChecked = checkbox.checked;
    checkbox.disabled = false;
    checkbox.addEventListener('click', (ev) => {ev.target.checked = wasChecked});
  });
})();
</script>
</body>
</html>
